package com.capgemini.java;

import java.util.List;

public class Poker {
	private Converter convertedCardList = new Converter();
	private List<Card> cardList = convertedCardList.convertRawDataToCards();
	private int playerOneWinsCounter = 0;
	
	public int calculateNumberOfPlayerOneWins(List<Card> givenListOfCards){
		cardList = givenListOfCards;
		for(int i=0; i<cardList.size();i+=10){
			if(singleGameWinner(i) == 1){
				playerOneWinsCounter++;
			}
		}
		return playerOneWinsCounter;
	}
	
	public int calculateNumberOfPlayerOneWins(){
		for(int i=0; i<cardList.size();i+=10){
			if(singleGameWinner(i) == 1){
				playerOneWinsCounter++;
			}
		}
		return playerOneWinsCounter;
	}

	private int singleGameWinner(int roundNumber) {
		int cardCounter = 0;
		Hand firstPlayerHand = new Hand(); 
		Hand secondPlayerHand = new Hand();
		while(cardCounter<10){
			if(cardCounter<5){
				firstPlayerHand.addCard(cardList.get(roundNumber+cardCounter));
			}
			secondPlayerHand.addCard(cardList.get(roundNumber+cardCounter));
		}

		int firstPlayerSetupValue = firstPlayerHand.calculateSetupValue();
		int secondPlayerSetupValue =secondPlayerHand.calculateSetupValue();
		if(firstPlayerSetupValue<secondPlayerSetupValue){
			return 1;
		}
		if(firstPlayerSetupValue>secondPlayerSetupValue){
			return 2;
		}
		
		return getWinnerIfDraw();
	}

	private int getWinnerIfDraw() {
		// TODO Auto-generated method stub
		return 0;
	}
	
	
}
