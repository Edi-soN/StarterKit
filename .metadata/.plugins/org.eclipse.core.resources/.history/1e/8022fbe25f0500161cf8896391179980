package com.capgemini.test;

import static org.junit.Assert.*;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

import org.junit.Test;

import com.capgemini.java.Card;
import com.capgemini.java.CardValue;
import com.capgemini.java.Converter;
import com.capgemini.java.Hand;

public class PokerTest {
	@Test
	public void shouldReturnCardValueOfEight() {
		// given
		Converter conv = new Converter();
		List<Card> cardList = conv.convertRawDataToCards();
		// when
		int result = cardList.get(0).getCardValue().getValue();
		// then
		assertEquals(8, result);
	}

	@Test
	public void shouldReturnCardValueOfTen() {
		// given
		Converter conv = new Converter();
		List<Card> cardList = conv.convertRawDataToCards();
		// when
		int result = cardList.get(1).getCardValue().getValue();
		// then
		assertEquals(10, result);
	}

	@Test
	public void shouldReturnZeroForHighCard() {
		// given
		Card[] cards = new Card[] { new Card(CardValue.Two, "S"), new Card(CardValue.Five, "D"),
				new Card(CardValue.Seven, "C"), new Card(CardValue.Nine, "H"), new Card(CardValue.Ten, "H") };
		List<Card> cardList = new ArrayList<>(Arrays.asList(cards));
		Hand hand = new Hand();
		hand.addCardsToHand(cardList);

		// when
		int result = hand.calculateSetupValue();
		// then
		assertEquals(0, result);
	}

	@Test
	public void shouldReturnOneForOnePair() {
		// given
		Hand hand = new Hand();
		hand.addCardsToHand(new Card(CardValue.Two, "S"));
		hand.addCardsToHand(new Card(CardValue.Two, "D"));
		hand.addCardsToHand(new Card(CardValue.Seven, "C"));
		hand.addCardsToHand(new Card(CardValue.Nine, "H"));
		hand.addCardsToHand(new Card(CardValue.Ten, "S"));
		// when
		int result = hand.calculateSetupValue();
		// then
		assertEquals(1, result);
	}
}
